{% extends 'base.html' %}

{% block content %}
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fade-in-up {
  animation: fadeInUp 0.6s ease-out forwards;
}

.profile-card {
  animation-delay: 0.1s;
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  .dark-mode-bg {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
  }
  
  .dark-mode-card {
    background: rgba(30, 41, 59, 0.8);
    border-color: rgba(148, 163, 184, 0.2);
  }
  
  .dark-mode-text {
    color: #e2e8f0;
  }
  
  .dark-mode-text-secondary {
    color: #94a3b8;
  }
  
  .dark-mode-field {
    background: rgba(51, 65, 85, 0.5);
    border-color: rgba(148, 163, 184, 0.2);
  }
}
</style>

<div class="min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:dark-mode-bg flex items-center justify-center p-4 sm:p-6 lg:p-8 font-['Inter']">
  
  <!-- Profile Card Container -->
  <div class="profile-card fade-in-up bg-white/70 dark:dark-mode-card backdrop-blur-xl p-6 sm:p-8 lg:p-10 rounded-3xl shadow-2xl border border-white/30 dark:border-slate-600/30 w-full max-w-md sm:max-w-lg lg:max-w-xl mx-auto ring-1 ring-black/5 dark:ring-white/10 hover:shadow-3xl transition-all duration-500 ease-out">
    
    <!-- Header Section -->
    <div class="text-center mb-8">
      <h1 class="text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-800 dark:dark-mode-text mb-2 tracking-tight">
        Your Profile
      </h1>
      <div class="w-16 h-1 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full mx-auto opacity-80"></div>
    </div>
    
    <!-- Avatar Section -->
    <div class="flex justify-center mb-8">
      {% if profile.avatar %}
        <div class="relative group">
          <img 
            src="{{ profile.avatar.url }}" 
            alt="Profile Picture" 
            class="w-24 h-24 sm:w-28 sm:h-28 lg:w-32 lg:h-32 rounded-full object-cover shadow-xl ring-4 ring-white/60 dark:ring-slate-400/30 transition-all duration-300 group-hover:ring-indigo-300 group-hover:shadow-2xl group-hover:scale-105"
            loading="lazy"
          >
          <div class="absolute inset-0 rounded-full bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
        </div>
      {% else %}
        <div class="relative group">
          <div class="w-24 h-24 sm:w-28 sm:h-28 lg:w-32 lg:h-32 rounded-full bg-gradient-to-br from-indigo-100 via-purple-50 to-blue-100 dark:from-indigo-900/50 dark:via-purple-900/30 dark:to-blue-900/50 flex items-center justify-center shadow-xl ring-4 ring-white/60 dark:ring-slate-400/30 transition-all duration-300 group-hover:ring-indigo-300 group-hover:shadow-2xl group-hover:scale-105">
            <!-- Heroicon: user -->
            <svg class="w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 text-indigo-600 dark:text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
            </svg>
          </div>
        </div>
      {% endif %}
    </div>
    
    <!-- Profile Information Fields -->
    <div class="space-y-4">
      
      <!-- Username Field -->
      <div class="group">
        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 bg-slate-50/60 dark:dark-mode-field backdrop-blur-sm rounded-2xl border border-slate-200/50 dark:border-slate-600/30 transition-all duration-300 hover:bg-slate-100/60 dark:hover:bg-slate-700/40 hover:border-slate-300/60 hover:shadow-md">
          <span class="text-sm font-semibold text-slate-600 dark:dark-mode-text-secondary mb-1 sm:mb-0 tracking-wide uppercase">Username</span>
          <span class="text-base sm:text-lg font-medium text-slate-800 dark:dark-mode-text break-all">{{ profile.user.username }}</span>
        </div>
      </div>
      
      <!-- Full Name Field -->
      <div class="group">
        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 bg-slate-50/60 dark:dark-mode-field backdrop-blur-sm rounded-2xl border border-slate-200/50 dark:border-slate-600/30 transition-all duration-300 hover:bg-slate-100/60 dark:hover:bg-slate-700/40 hover:border-slate-300/60 hover:shadow-md">
          <span class="text-sm font-semibold text-slate-600 dark:dark-mode-text-secondary mb-1 sm:mb-0 tracking-wide uppercase">Full Name</span>
          <span class="text-base sm:text-lg font-medium text-slate-800 dark:dark-mode-text break-words text-right">
            {% if profile.user.first_name or profile.user.last_name %}
              {{ profile.user.first_name }} {{ profile.user.last_name }}
            {% else %}
              <span class="text-slate-400 dark:text-slate-500 italic font-normal">Not provided</span>
            {% endif %}
          </span>
        </div>
      </div>
      
      <!-- Email Field -->
      <div class="group">
        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 bg-slate-50/60 dark:dark-mode-field backdrop-blur-sm rounded-2xl border border-slate-200/50 dark:border-slate-600/30 transition-all duration-300 hover:bg-slate-100/60 dark:hover:bg-slate-700/40 hover:border-slate-300/60 hover:shadow-md">
          <span class="text-sm font-semibold text-slate-600 dark:dark-mode-text-secondary mb-1 sm:mb-0 tracking-wide uppercase">Email</span>
          <span class="text-base sm:text-lg font-medium text-slate-800 dark:dark-mode-text break-all text-right">{{ profile.user.email }}</span>
        </div>
      </div>
      
      <!-- Biography Field -->
      <div class="group">
        <div class="p-4 bg-slate-50/60 dark:dark-mode-field backdrop-blur-sm rounded-2xl border border-slate-200/50 dark:border-slate-600/30 transition-all duration-300 hover:bg-slate-100/60 dark:hover:bg-slate-700/40 hover:border-slate-300/60 hover:shadow-md">
          <span class="text-sm font-semibold text-slate-600 dark:dark-mode-text-secondary block mb-3 tracking-wide uppercase">Biography</span>
          <p class="text-base font-normal text-slate-700 dark:dark-mode-text leading-relaxed">
            {% if profile.bio %}
              {{ profile.bio }}
            {% else %}
              <span class="text-slate-400 dark:text-slate-500 italic">Tell us about yourself...</span>
            {% endif %}
          </p>
        </div>
      </div>
      
    </div>
    
    <!-- Edit Profile Button -->
    <div class="mt-8 pt-6 border-t border-slate-200/50 dark:border-slate-600/30">
      <a 
        href="{% url 'edit_profile' %}" 
        class="group relative w-full inline-flex items-center justify-center px-6 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] ring-2 ring-indigo-500/20 hover:ring-indigo-500/40 focus:outline-none focus:ring-4 focus:ring-indigo-500/30"
        role="button"
        aria-label="Edit your profile information"
      >
        <!-- Heroicon: pencil-square -->
        <svg class="w-5 h-5 mr-3 transition-transform duration-300 group-hover:rotate-12" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path>
        </svg>
        <span class="relative">Edit Profile</span>
        
        <!-- Button shine effect -->
        <div class="absolute inset-0 rounded-2xl bg-gradient-to-r from-transparent via-white/20 to-transparent -skew-x-12 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-700 ease-out"></div>
      </a>
    </div>
    
  </div>
  
</div>

<script>
// Add smooth entrance animation with staggered timing
document.addEventListener('DOMContentLoaded', function() {
    const profileCard = document.querySelector('.profile-card');
    const fields = document.querySelectorAll('.group');
    
    // Trigger the main card animation
    setTimeout(() => {
        profileCard.classList.add('fade-in-up');
    }, 100);
    
    // Stagger field animations
    fields.forEach((field, index) => {
        setTimeout(() => {
            field.style.opacity = '0';
            field.style.transform = 'translateY(20px)';
            field.style.transition = 'all 0.5s ease-out';
            
            setTimeout(() => {
                field.style.opacity = '1';
                field.style.transform = 'translateY(0)';
            }, 50);
        }, 200 + (index * 100));
    });
});

// Add subtle parallax effect on scroll (optional enhancement)
window.addEventListener('scroll', () => {
    const scrolled = window.pageYOffset;
    const profileCard = document.querySelector('.profile-card');
    if (profileCard) {
        profileCard.style.transform = `translateY(${scrolled * 0.1}px)`;
    }
});
</script>

{% endblock %}